# PPT兼容SVG技术图表生成系统

## 系统概述

这是一个专为技术文档设计的SVG图表自动生成系统，能够将复杂的技
术内容自动转换为PPT兼容的黑白线框风格图表。

## 核心组件

### 1. 主程序 `ppt_svg_generator.py`
- **功能**: 核心SVG生成引擎
- **特点**: 
  - 支持多种运行模式（批量、调试、测试）
  - 自动内容类型识别
  - 并发处理能力
  - 进度跟踪和断点续传
  - 详细的日志记录

### 2. 配置文件
- `svg_config.json`: 基础配置
- `advanced_svg_config.json`: 增强配置（包含调试选项）

### 3. 辅助工具
- `test_svg_generator.py`: 功能测试脚本
- `run_svg_generation.sh`: 便捷运行脚本
- `README.md`: 使用说明文档

## 主要功能

### 🎯 自动图表类型识别
系统能够根据章节标题和内容自动选择最适合的图表类型：
- **流程图** (flowchart): 算法步骤、处理流程
- **架构图** (architecture): 系统组件、模块结构  
- **数据流图** (data_flow): 信息流向、数据处理
- **网络拓扑图** (network_topology): 网络设备连接

### 🔄 智能内容处理
- 自动提取章节标题和编号
- 智能截取关键内容（避免过长）
- 关键词匹配算法优化图表类型选择
- 内容长度自适应控制

### ⚡ 高效并发处理
- 支持3个并发API请求
- 进度实时保存
- 失败重试机制
- 断点续传功能

### 🔧 灵活的调试能力
- **调试模式**: 预览生成的提示词而不调用API
- **测试模式**: 手动测试特定提示词效果
- **提示词列表**: 查看所有可用的图表模板
- **详细日志**: 全程记录处理过程

## 使用场景

### 批量处理技术文档
```bash
# 处理整个章节目录
python ppt_svg_generator.py --mode batch
```

### 调试和优化提示词
```bash
# 调试模式 - 预览提示词
python ppt_svg_generator.py --mode debug

# 测试特定提示词
python ppt_svg_generator.py --mode test \
  --diagram-type flowchart \
  --title "示例标题" \
  --content "示例内容"
```

### 查看系统配置
```bash
# 列出所有可用提示词模板
python ppt_svg_generator.py --list-prompts
```

## 输出规格

### SVG格式标准
- **尺寸**: 1920x1080 (PPT兼容)
- **风格**: 黑白线框，专业简洁
- **字体**: Microsoft YaHei, Arial等清晰字体
- **线条**: 2-3px粗细，清晰可见

### 文件命名规范
```
chapter_{编号}_{标题}.svg
```

### 输出目录结构
```
generated_svgs/
├── chapter_01_自注意力机制流程.svg
├── chapter_02_多头注意力架构.svg
└── chapter_03_层级抽象结构.svg
```

## 技术特色

### 1. 智能内容理解
- 基于关键词频率的图表类型推荐
- 内容长度自适应截取
- 中文技术术语识别优化

### 2. PPT兼容设计
- 标准16:9宽屏比例
- 黑白配色方案（适合投影）
- 清晰的线条和字体
- 专业级视觉效果

### 3. 工程化特性
- 完善的错误处理机制
- 进度持久化存储
- 并发控制和资源管理
- 详细的日志系统

### 4. 可扩展架构
- 模块化提示词配置
- 易于添加新的图表类型
- 支持自定义样式模板
- 灵活的参数配置

## 最佳实践

### 1. 使用前准备
```bash
# 设置API密钥
export ALIYUN_API_KEY="your-api-key"

# 安装依赖
pip install aiohttp
```

### 2. 调试工作流程
1. 先用调试模式预览提示词效果
2. 根据需要调整配置文件中的提示词模板
3. 测试几个代表性章节
4. 确认效果后再进行批量处理

### 3. 性能优化建议
- 合理设置并发数量（建议3-5个）
- 监控API调用频率避免限流
- 定期清理已完成的进度记录
- 备份重要的SVG输出文件

## 系统优势

✅ **自动化程度高** - 一键批量处理大量技术文档  
✅ **专业质量** - 生成PPT级别的技术图表  
✅ **调试友好** - 完善的调试和测试功能  
✅ **稳定可靠** - 断点续传和错误重试机制  
✅ **易于扩展** - 模块化设计，支持自定义配置  

这个系统大大提升了技术文档可视化的工作效率，让复杂的技术概念能够以清晰直观的图表形式呈现。